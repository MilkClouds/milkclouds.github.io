---
layout: post
title: '[BOJ 9527] 1의 개수 세기'
author: milkclouds
comments: true
date: 2019-02-07 11:41
tags: [boj, problem-solving]

---

## 문제
[https://www.acmicpc.net/problem/9527](https://www.acmicpc.net/problem/9527)  


## 사용 알고리즘  
비트 연산


## 시간 복잡도  
`O(N+M)`  


## 설명  
`1<=x<=S`의 모든 `f(x)`의 합을 `sum(S)`로 둔다.
그리고 `sum(B)-sum(A-1)`을 구하면 된다.

`sum(S)`는 다음과 같은 연산을 한다.
1. S의 밑에서부터 비트를 하나씩 연산한다
2. 현재 연산 대상 비트가 0이라면, 현재 비트부터(현재 비트 포함) 위의 비트 전체를 나누기 2
3. 현재 연산 대상 비트가 1이라면, `현재 비트 아래 전체(현재 비트 미포함)`와 


### 소스  

```c++
#include <iostream>
using namespace std;

typedef long long ll;
ll A,B;
ll sum(ll x){
	ll save=x,target=1,ret=0;
	while(x){
		if(x&target) ret+=x%target+x/(target/2)/2+1;
		else ret+=x/(target/2)/2;
		target<<=1;
		x>>=1;
	}
	return ret;
}
int main(){
	cin>>>A>>B;
	cout<<sum(B)-sum(A-1);
}
```